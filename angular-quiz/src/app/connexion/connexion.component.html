<h1 style="text-align: center">Connexion</h1>

<div class="login">
  <div *ngIf="message != ''" class="alert alert-danger">{{ message }}</div>
  <h2 class="login-header">S'identifier</h2>
  <form
    [formGroup]="loginForm"
    class="login-container"
    (ngSubmit)="seConnecter()"
  >
    <p [ngClass]="{ 'has-error': isSubmitted && formControls.email.errors }">
      <input type="email" placeholder="Email" formControlName="email" />
    </p>
    <div
      class="help-block"
      *ngIf="
        formControls.email.errors &&
        formControls.email.touched &&
        !(formControls.email.dirty && formControls.email.hasError('email'))
      "
    >
      <font color="red">L'email est requis</font>
    </div>
    <div
      class="help-block"
      *ngIf="formControls.email.dirty && formControls.email.hasError('email')"
    >
      <font color="red">L'email n'est pas valide</font>
    </div>
    <p [ngClass]="{ 'has-error': isSubmitted && formControls.password.errors }">
      <input
        type="password"
        placeholder="Mot de passe"
        formControlName="password"
      />
    </p>
    <div
      class="help-block"
      *ngIf="!loginForm.value.password && formControls.password.touched"
    >
      <font color="red">Mot de passe requis</font>
    </div>
    <p>
      <input type="submit" value="Log in" />
    </p>
  </form>
</div>
